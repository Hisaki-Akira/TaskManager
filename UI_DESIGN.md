# UI設計書

## 画面レイアウト

```
┌──────────────────────────────────────────────────────────────────────┐
│ リソーススケジューラー               [2週間][1ヶ月][3ヶ月] [+タスク追加] │
├──────────────────────────────────────────────────────────────────────┤
│ ユーザー │ 2/1 │ 2/2 │ 2/3 │ 2/4 │ 2/5 │ 2/6 │ 2/7 │ 2/8 │ ... │
│          │ 月  │ 火  │ 水  │ 木  │ 金  │ 土  │ 日  │ 月  │ ... │
├──────────┼─────┴─────┴─────┴─────┴─────┴─────┴─────┴─────┴─────┤
│ ● 田中   │ ┌──────────────────┐                                  │
│ 稼働率:  │ │ プロジェクトA設計 │         ┌──────┐              │
│  50% ✓  │ └──────────────────┘         │レビュー│              │
│タスク:2 │                               └──────┘              │
├──────────┼────────────────────────────────────────────────────┤
│ ● 佐藤   │     ┌────┐                                          │
│ 稼働率:  │     │バグ│ ┌─────────────┐                        │
│  95% ⚠️  │     └────┘ │   テスト実施  │                        │
│タスク:3 │             └─────────────┘  ┌──────┐              │
│          │                              │ドキュメ│              │
│          │                              └──────┘              │
├──────────┼────────────────────────────────────────────────────┤
│ ● 鈴木   │                                       ┌────┐        │
│ 稼働率:  │                                       │要件│        │
│  20% ✓  │                                       └────┘        │
│タスク:1 │                                                      │
├──────────┼────────────────────────────────────────────────────┤
│ ● 高橋   │ ┌─────────────┐                                    │
│ 稼働率:  │ │プロジェクトB │   ┌──────────────────┐            │
│  80% ⚠️  │ └─────────────┘   │ プロジェクトC実装  │            │
│タスク:2 │                    └──────────────────┘            │
└──────────┴────────────────────────────────────────────────────┘
```

## カラースキーム

### ダークモードヘッダー
- 背景: `#111827` (ほぼ黒)
- テキスト: `#f3f4f6` (薄いグレー)
- アクセント: `#3b82f6` (青)

### タイムラインヘッダー
- 通常日: `#f3f4f6` (白)
- 今日: `#fbbf24` (黄色) + `#1f2937` (暗い背景)
- 週末: `#9ca3af` (グレー)

### ユーザーカラー
- 田中: `#3b82f6` (青)
- 佐藤: `#10b981` (緑)
- 鈴木: `#f59e0b` (オレンジ)
- 高橋: `#ef4444` (赤)

### 稼働率カラー
- 0-50%: `#10b981` (緑 - 余裕あり)
- 51-80%: `#f59e0b` (黄 - 適正)
- 81-100%: `#ef4444` (赤 - 過負荷)

### 背景
- メイン: `#f9fafb` (薄いグレー)
- ユーザー情報: `#ffffff` (白)
- セル境界: `#e5e7eb` (グレー)

## コンポーネント詳細

### 1. ヘッダーバー

```
┌────────────────────────────────────────────────────────────┐
│ リソーススケジューラー     [2週間][1ヶ月][3ヶ月] [+タスク追加] │
└────────────────────────────────────────────────────────────┘
```

**要素:**
- タイトル（左寄せ、24px、太字）
- 表示期間切り替えボタン（3つ、トグル式）
- タスク追加ボタン（青、ホバー時に濃くなる）

**サイズ:**
- 高さ: 64px
- パディング: 16px 24px

### 2. タイムラインヘッダー

```
┌─────────┬──────┬──────┬──────┬──────┬──────┐
│ユーザー │ 2/1  │ 2/2  │ 2/3  │ 2/4  │ 2/5  │
│         │  月  │  火  │  水  │  木  │  金  │
└─────────┴──────┴──────┴──────┴──────┴──────┘
```

**要素:**
- 日付（M/D形式、12px）
- 曜日（日本語、10px）
- 今日のハイライト（黄色背景）

**サイズ:**
- ユーザー列: 200px（固定）
- 日付列: 60px（各）
- 高さ: 48px

**sticky固定:** スクロール時も常に上部に表示

### 3. ユーザー行

```
┌──────────┐
│ ● 佐藤   │
│ 稼働率:  │
│  95% ⚠️  │
│タスク:3 │
└──────────┘
```

**要素:**
- カラーインジケーター（●、12px円）
- ユーザー名（14px、太字）
- 稼働率（12px、色分け）
- 重複警告（⚠️絵文字）
- タスク数（12px）

**サイズ:**
- 幅: 200px（固定）
- 高さ: 動的（タスク重複に応じて）
  - 最小: 60px
  - 重複1レーン: +40px

**背景:**
- 白（#ffffff）
- ホバー時のセル: #f3f4f6

### 4. タスクブロック

```
┌──────────────────┐
│ プロジェクトA設計 │  ← ホバー時: 浮き上がる + ツールチップ
└──────────────────┘
```

**要素:**
- タスク名（12px、白、太字500）
- 背景色（ユーザーカラー）

**サイズ:**
- 高さ: 32px
- 幅: 期間日数 × 60px - 4px
- 角丸: 4px
- パディング: 4px 8px

**アニメーション:**
- ホバー時: translateY(-2px)
- シャドウ変化: 0 1px 3px → 0 4px 6px

**ツールチップ（ホバー時）:**
```
┌─────────────────────┐
│ プロジェクトA設計    │
│ 開始: 2024-02-01    │
│ 終了: 2024-02-07    │
└─────────────────────┘
```
- 背景: #1f2937
- テキスト: #f3f4f6
- シャドウ: 0 4px 12px rgba(0,0,0,0.4)

### 5. タスク追加モーダル

```
        ┌────────────────────────┐
        │   タスク追加            │
        ├────────────────────────┤
        │ タスク名               │
        │ [________________]     │
        │                        │
        │ 担当者                 │
        │ [▼ 選択してください]   │
        │                        │
        │ 開始日                 │
        │ [📅 2024-02-01]       │
        │                        │
        │ 終了日                 │
        │ [📅 2024-02-07]       │
        │                        │
        │     [キャンセル] [追加]│
        └────────────────────────┘
```

**要素:**
- タイトル（20px、太字）
- 4つの入力フィールド
- 2つのボタン（キャンセル、追加）

**サイズ:**
- 幅: 400px
- パディング: 24px
- 角丸: 8px

**背景:**
- モーダル背景: rgba(0, 0, 0, 0.5)
- コンテンツ: white
- シャドウ: 0 20px 25px -5px rgba(0,0,0,0.3)

### 6. タスク詳細モーダル

```
        ┌────────────────────────┐
        │   タスク詳細            │
        ├────────────────────────┤
        │ タスク名               │
        │ プロジェクトA設計       │
        │                        │
        │ 担当者                 │
        │ 田中                   │
        │                        │
        │ 期間                   │
        │ 2024-02-01 〜 2024-02-07│
        │                        │
        │         [削除] [閉じる]│
        └────────────────────────┘
```

**要素:**
- タイトル（20px、太字）
- 3つの情報フィールド
- 2つのボタン（削除、閉じる）

**サイズ:**
- 幅: 400px
- パディング: 24px
- 角丸: 8px

## インタラクション

### 1. タスクブロックホバー

**Before:**
```
┌──────────┐
│ タスク名 │  通常状態
└──────────┘
```

**After:**
```
   ↑ 2px浮く
┌──────────┐
│ タスク名 │  シャドウ強調
└──────────┘

┌───────────┐
│ ツールチップ│  表示
└───────────┘
```

### 2. 空白セルホバー

**Before:**
```
│     │  透明背景
```

**After:**
```
│█████│  #f3f4f6 背景
```

### 3. ビューモード切り替え

**選択前:**
```
[2週間] [1ヶ月] [3ヶ月]  ← 全て透明背景
```

**選択後:**
```
[2週間] [1ヶ月] [3ヶ月]  ← 選択中は青背景
 ^^^^^ 
```

### 4. タスククリック

1. タスクブロッククリック
2. モーダルフェードイン
3. 詳細表示
4. 削除または閉じる
5. モーダルフェードアウト

### 5. 空白セルクリック

1. 空白セルクリック
2. モーダルフェードイン
3. ユーザーと日付がプリフィル
4. タスク追加または キャンセル
5. モーダルフェードアウト

## レスポンシブ対応

### デスクトップ（推奨）
- ウィンドウ幅: 1200px以上
- 全ての機能が快適に使用可能

### タブレット
- ウィンドウ幅: 768px-1199px
- 横スクロールで対応
- タッチ操作対応

### モバイル
- ウィンドウ幅: 767px以下
- 横スクロールが必須
- 簡易表示モードの実装を推奨（将来的な拡張）

## アクセシビリティ

### キーボード操作
- Tab: 次の要素へ
- Shift+Tab: 前の要素へ
- Enter: 選択/実行
- Escape: モーダルを閉じる

### カラーコントラスト
- WCAG AA基準を満たす
- 稼働率の色分けは数値も併記

### スクリーンリーダー対応
- 適切なaria-label
- セマンティックHTML
- alt属性の設定

## パフォーマンス目標

### 初期ロード
- 目標: 1秒以内
- React CDN: ~500ms
- アプリケーション: ~500ms

### インタラクション
- タスク追加: 即座（<100ms）
- モーダル表示: 即座（<100ms）
- ビュー切り替え: 即座（<200ms）

### スクロール
- 60 FPS維持
- スムーズなスクロール体験

## ブラウザ対応

### 完全対応
- Chrome 90+
- Firefox 88+
- Safari 14+
- Edge 90+

### 部分対応
- IE 11: 非対応（モダンブラウザを推奨）

## まとめ

このUI設計は以下の原則に基づいています：

1. **クリーンなデザイン** - 不要な装飾を排除
2. **直感的な操作** - マウスホバーとクリックで全て完結
3. **視覚的フィードバック** - 色とアニメーションで状態を表現
4. **情報の階層化** - 重要度に応じた情報の配置

人間の目と脳が最も理解しやすい形で情報を提示することを目指しています。
